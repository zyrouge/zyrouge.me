---
import { Routes } from "~/core/routes";
import NavBarLink from "~/components/base/NavBarLink.astro";

const replaceSlashes = (route: string) => route.replaceAll(/^\/|\/$/g, "");
const isCurrentPage = (route: string) =>
    replaceSlashes(route) === replaceSlashes(Astro.url.pathname);
---

<nav>
    <div class="py-4 md:py-6">
        <div
            class="u-flex !flex-col md:!flex-row !justify-around gap-4 md:gap-8"
        >
            <div class="font-bold font-mono">
                <NavBarLink link={Routes.home}>zyrouge</NavBarLink>
            </div>

            <div class="u-flex gap-8">
                <NavBarLink
                    link={Routes.home}
                    active={isCurrentPage(Routes.home)}
                >
                    Home
                </NavBarLink>
                <NavBarLink
                    link={Routes.articles.home}
                    active={isCurrentPage(Routes.articles.home)}
                >
                    Articles
                </NavBarLink>
            </div>
        </div>
    </div>
</nav>
